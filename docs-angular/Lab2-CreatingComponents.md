# Lab 2 - Creating Components

During this lab you will create components with the Angular CLI to display high scores and add new scores using the Angular `FormBuilder`. You will learn how to navigate to these components using Angular `Routing`.

Goals for this lab:

- [Creating and displaying components](#inspect)
- [Displaying high scores in a list](#manage)
- [Create a form using FormBuilder](#working)

## Creating and displaying components

### 1. Create the component with the Angular CLI

The following will create a component where you are going to show high scores

```sh
ng generate component high-scores/high-scores-list --module=app

# --module=app selects the AppModule to auto import this generated component

# You can also write the command short-handed:
# ng g c high-scores/high-scores-list --module=app
```

The script created a component folder `./angular-application/src/app/high-scores/high-scores-list` containing 4 files:

**\*.component.ts**

- Here you will put the logic for the component and connects to the .html and .sass file.

**\*.component.spec.ts**

  - With the spec class you are able to unit test your component

**\*.component.html**

  - This will show your content.

**\*.component.scss**
  - The sass file gives you the oppurtunity to style the component. See 1. GettingStarted to learn more about Sass.

The Angular CLI command also added your component to the `AppModule`. You can find this file in `./angular-application/src/app/app.module.ts`

```ts
@NgModule({
  declarations: [
    AppComponent,
    // Automatically added component
    HighScoresListComponent
    // #end
  ],
  imports: [BrowserModule, AppRoutingModule],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule {}
```

In the AppModule you declare what components are available for use in your application.

### 2. Display the component

Make the following changes to the `AppRoutingModule` which is automatically generated by the boiletplate Angular application `./angular-application/src/app/app-routing.module.ts`

```ts
const routes: Routes = [
  // Add this route
  {
    path: "",
    component: HighScoresListComponent
  },
  // #end
];

@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})
export class AppRoutingModule {}
```

The `high-scores-list` component is now the homepage of the Angular application

### 3. Run the application

```
npm start
```

You should now see the contents of the component: "high-scores-list works!"

## Displaying high scores in a list

For this chapter you will need the component you created in the previous chapter: `./angular-application/src/app/high-scores/high-scores-list/*`

### 1. Create a model to hold high scores

Create a the following file `./angular-application/src/shared/models/high-score.ts`

// TODO: 
```ts
interface HighScore {

  nickname: string;

  game: string;

  points: number;
}
```

The `highscore.ts` is in a shared folder, so it can easily be used throughout the whole application when the application grows larger.

**interface vs class**

An interface is used because you are only interested in the properties (signature) of a highscore. Later you will see that these properties directly map onto the results from the API.

### 2. Create high scores

Create a list of high scores in the following file `./angular-application/src/app/high-scores/high-scores-list/high-scores-list.component.ts`
 
```ts
@Component({
  selector: 'app-high-scores-list',
  templateUrl: './high-scores-list.component.html',
  styleUrls: ['./high-scores-list.component.scss']
})
export class HighScoresListComponent implements OnInit {

  public highScores: HighScore[];

  constructor() { }

  ngOnInit() {
    this.highScores = [
      {
        nickname: "developerDays",
        game: "Awesome Angular Workshop"
        points: 231019
      },
      {
        namename: "Thijs Limmen",
        game: "Alarm Clock",
        points: 0600
      }
    ];
  }
}
```


### 4. Display high scores using Material components

Display the high scores in the following file `./angular-application/src/app/high-scores/high-scores-list/high-scores-list.component.html`

``` html
<mat-list>
  <mat-list-item *ngFor="let highScore of highScores">
    <mat-icon matListIcon>dvr</mat-icon>
    <h3 matLine>{{ highScore.name }}</h3>
    <p matLine>
      <span> {{ highScore.score }} </span>
    </p>
  </mat-list-item>
</mat-list>
```

- \<mat-list-item> is an example of a Material component. 
- **matLine** is an Angular directive which adds new functionality to the component, like showing text below eachother.


## Adding new scores

In this chapter you are going to create a new page, navigate to it and display a form using the Angular `FormBuilder`, TODO: reactive components

### 1. Create a new add score page

Create a new component, just like you did with the high scores

```sh
ng generate component high-scores/add-score --module=app

# --module=app selects the AppModule to auto import this generated component
```

The following component is generated:  `./angular-application/src/app/high-scores/add-score/*`

### 2. Navigate to the add score page

- Make the following changes to the Routing Module `./angular-application/src/app/app-routing.module.ts`

```ts
const routes: Routes = [
  {
    path: "",
    component: HighScoresListComponent
  },
  // Added route
  {
    path: "add-score",
    component: AddScoreComponent
  }
  // #end
];

@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})
export class AppRoutingModule {}
```

- Add a (router)Link to the `add-score` page

Add the following to the high-scores-list component `./angular-application/src/app/high-scores/high-scores-list/high-scores-list.component.html`

```html
<mat-list>
  <!-- ... -->
</mat-list>

<!-- Added link -->
<a [routerLink]="['/add-score']">Add Score</a>
<!-- #end -->
```


### 3. Create a form using FormBuilder

Create a new form with Material components

```html
<form class="add-score-form">
  <mat-form-field class="input-nickname">
    <input matInput placeholder="Nickname" />
  </mat-form-field>

  <mat-form-field class="input-game">
    <mat-label>Games</mat-label>
    <mat-select required>
      <mat-option value="developerdays">Developer Days</mat-option>
      <mat-option value="alarmclock">Alarm Clock</mat-option>
      <mat-option value="linesofcode">Lines of Code</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <input type="number" matInput placeholder="Points" value="0" />
  </mat-form-field>

  <button class="form-button" mat-raised-button color="primary">
    Submit Score
  </button>
</form>
```

Let's add some style to the component for better spacing`./angular-application/src/app/high-scores/add-score/add-score.component.scss`

//TODO SCSS
```sass
.add-score-form {
    margin: 16px
    max-width: 600px

    .input-nickname
        width: 100%

    .input-game
        margin-right: 20px

    .form-button
        display: block
}
```